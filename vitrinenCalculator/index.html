<html lang="de">
<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <link rel="icon" href="img/favicon114.png" sizes="32x32" />
    <link rel="icon" href="img/favicon114.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="img/favicon114.png" />
    <meta name="msapplication-TileImage" content="img/favicon114.png" />

    <title>Vitrinen Calculator</title>
    <script type="text/javascript">

    </script>
    <style>
        .tableMainClass {
            display: table;
            width: 800px;
            margin-right: auto;
            margin-left: auto;
        }

        .trClass {
            display: table-row;
            width: 800px;
        }

        .tdClass {
            display: table-cell;
            width: 400px;
            padding: 5px;
        }

        .lbh {
            width: 70px;
        }

        .tdWhatClass {
            align-content: baseline;
            text-align: end;
        }
    </style>
</head>
<body style="margin: 0px; ">

<div style="display: flex; flex-flow: row; background-color: #ffdc14; background: linear-gradient(135deg, rgba(255,205,0,1) 0%, rgba(255,220,20,1) 35%, rgba(255,205,0,1) 100%);padding-left: 20px; justify-content: space-between;height:100px">
    <div style="display: flex; flex-flow: column;">
        <h1 style="display: flex;margin-top: 5px;margin-bottom: 2px;font-family: Khand, Helvetia, Arial, sans-serif; font-size: 34px; font-weight: 600; color:#000000;">Vitrinen Calculator</h1>
        <div style="display: flex; margin-top: 0px;margin-bottom: 15px;">Version 0.3.2&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;15.12.2025 by Gassi</div>
    </div>
    <img src="img/td_header.png" height="150px" style="; display: flex; justify-content: right; align-self: center;filter: drop-shadow(8px 8px 40px #FFB214);">
</div>

<div id="guiMainDiv" style="">

    <div class="tableMainClass">
        <div class="trClass">
            <div class="tdClass tdWhatClass">
                Art:
            </div>
            <div class="tdClass">
                <input type="radio" id="perfektVerklebt" name="art" value="perfektVerklebt" checked onchange="calculate()" />
                <label for="perfektVerklebt">Perfekt Verklebt</label>
                <br>
                <input type="radio" id="einfachVerklebt" name="art" value="einfachVerklebt" onchange="calculate()"/>
                <label for="einfachVerklebt">Einfach Verklebt</label>
                <br>
                <input type="radio" id="gehrungVerklebt" name="art" value="gehrungVerklebt" onchange="calculate()"/>
                <label for="gehrungVerklebt">Gehrung Verklebt</label>
            </div>
        </div>
        <div class="trClass">
            <div class="tdClass tdWhatClass">
                Berechnungsbasis:
            </div>
            <div class="tdClass">
                <input type="radio" id="aussenmasz" name="masz" value="out" checked onchange="calculate()" />
                <label for="aussenmasz">Außenmaß</label>
                <br>
                <input type="radio" id="innenmasz" name="masz" value="in" onchange="calculate()"/>
                <label for="innenmasz">Innenmaß</label>
            </div>
        </div>
        <div class="trClass">
            <div class="tdClass tdWhatClass ">
                <label for="laenge">Länge</label>:
            </div>
            <div class="tdClass">
                <input type="number" id="laenge" min="1" step="1" value="" pattern="[0-9]*" inputmode="numeric" class="lbh" onchange="calculate()" autofocus='' placeholder="Länge" oninput="onIntegerInput(this)" onkeydown="onIntegerKeyDown(event, this)"/> mm
            </div>
        </div>
        <div class="trClass">
            <div class="tdClass tdWhatClass">
                <label for="breite">Breite</label>:
            </div>
            <div class="tdClass">
                <input type="number" id="breite" min="1" step="1" value="" pattern="[0-9]*" inputmode="numeric"  class="lbh" onchange="calculate()"  placeholder="Breite" oninput="onIntegerInput(this)" onkeydown="onIntegerKeyDown(event, this)"/> mm
            </div>
        </div>
        <div class="trClass">
            <div class="tdClass tdWhatClass">
                <label for="hoehe">Höhe</label>:
            </div>
            <div class="tdClass">
                <input type="number" id="hoehe" min="1" step="1" value="" pattern="[0-9]*" inputmode="numeric"   class="lbh" onchange="calculate()"  placeholder="Höhe" oninput="onIntegerInput(this)" onkeydown="onIntegerKeyDown(event, this)"/> mm
            </div>
        </div>
        <div class="trClass">
            <div class="tdClass tdWhatClass">
                Materialstärke:
            </div>
            <div class="tdClass">
                <input type="radio" id="3mm" name="materialStaerke" value="3"  onchange="calculate()"/>
                <label for="3mm">3mm</label>
                <br>
                <input type="radio" id="4mm" name="materialStaerke" value="4"  onchange="calculate()"/>
                <label for="4mm">4mm</label>
                <br>
                <input type="radio" id="5mm" name="materialStaerke" value="5" checked  onchange="calculate()" />
                <label for="5mm">5mm</label>
                <br>
                <input type="radio" id="6mm" name="materialStaerke" value="6"  onchange="calculate()" />
                <label for="6mm">6mm</label>
                <br>
                <input type="radio" id="8mm" name="materialStaerke" value="8"   onchange="calculate()"/>
                <label for="8mm">8mm</label>
                <br>
                <input type="radio" id="10mm" name="materialStaerke" value="10"   onchange="calculate()"/>
                <label for="10mm">10mm</label>
                <br>
                <input type="radio" id="12mm" name="materialStaerke" value="12"   onchange="calculate()"/>
                <label for="12mm">12mm</label>
                <br>
                <input type="radio" id="15mm" name="materialStaerke" value="15"   onchange="calculate()"/>
                <label for="15mm">15mm</label>
                <br>
                <input type="radio" id="20mm" name="materialStaerke" value="20"   onchange="calculate()"/>
                <label for="20mm">20mm</label>
            </div>
        </div>
        <div class="trClass">
            <div id="anforderungKeyDiv" class="tdClass tdWhatClass">
                Anforderung:
            </div>
            <div class="tdClass">
                <span id="anforderungHeadlineDataSpan"></span>
            </div>
        </div>
        <div class="trClass">
            <div id="bodenKeyDiv" class="tdClass tdWhatClass">
                Boden:
            </div>
            <div class="tdClass">
                <span id="bodenSpan"></span>
            </div>
        </div>
        <div class="trClass">
            <div id="langKeyDiv" class="tdClass tdWhatClass">
                Lang:
            </div>
            <div class="tdClass">
                <span id="vorneHintenSpan"></span>
            </div>
        </div>
        <div class="trClass">
            <div id="kurzKeyDiv" class="tdClass tdWhatClass">
                Kurz:
            </div>
            <div class="tdClass">
                <span id="linksRechtsSpan"></span>
            </div>
        </div>
        <div class="trClass">
            <div class="tdClass tdWhatClass">

            </div>
            <div class="tdClass">
                <div id="copyButton" onclick="copyToClipBoard()" style="cursor: pointer; border: 1px solid black; border-radius: 10px; width: fit-content; padding: 5px;box-shadow: 10px 10px 10px grey;display: none">
                    <img src="img/copy.jpg" width="113px" height="124px" alt="In die Zwischenablage Kopieren" title="In die Zwischenablage Kopieren">
                </div>
                <div id="copyMessage" style="margin-top: 15px"></div>
            </div>
        </div>
    </div>

</div>
<script type="text/javascript">

    function copyToClipBoard() {
        let text = "";
        //text += document.getElementById("anforderungKeyDiv").innerText;
        //text += " ";
        //text += document.getElementById("anforderungHeadlineDataSpan").innerText;
        //text += "\r\n";
        text += document.getElementById("bodenKeyDiv").innerText;
        text += " ";
        text += document.getElementById("bodenSpan").innerText;
        text += "\r\n";
        text += document.getElementById("langKeyDiv").innerText;
        text += " ";
        text += document.getElementById("vorneHintenSpan").innerText;
        text += "\r\n";
        text += document.getElementById("kurzKeyDiv").innerText;
        text += " ";
        text += document.getElementById("linksRechtsSpan").innerText;

        if (navigator.clipboard && navigator.clipboard.writeText &&  window.isSecureContext) {
            navigator.clipboard.writeText(text);
            document.getElementById("copyMessage").innerHTML = "In die Zwischenablage kopiert!";
            setTimeout(cleanCopyMessage, 2000);
            console.log("navigator.clipboard.writeText - is OK!!");
        } else {
            console.log("jetzt wirds spannend");
            const textArea = document.createElement("textarea");
            textArea.value = text;

            // Move textarea out of the viewport so it's not visible
            textArea.style.position = "absolute";
            textArea.style.left = "-999999px";

            document.body.prepend(textArea);
            textArea.select();

            try {
                document.execCommand('copy');
                document.getElementById("copyMessage").innerHTML = "In die Zwischenablage kopiert!!!";
                setTimeout(cleanCopyMessage, 2000);
            } catch (error) {
                console.error(error);
            } finally {
                textArea.remove();
            }
        }
    }

    function cleanCopyMessage() {
        document.getElementById("copyMessage").innerHTML = ""
    }


    function clearResult() {
        let resultBodenSpan = document.getElementById("bodenSpan");
        let resultVorneHintenSpan = document.getElementById("vorneHintenSpan");
        let resultLinksRechtsSpan = document.getElementById("linksRechtsSpan");
        let anforderungHeadlineDataSpan = document.getElementById("anforderungHeadlineDataSpan");
        let copyButton = document.getElementById("copyButton");

        resultBodenSpan.innerHTML = "";
        resultVorneHintenSpan.innerHTML = "";
        resultLinksRechtsSpan.innerHTML = "";
        anforderungHeadlineDataSpan.innerHTML = "";
        copyButton.style.display = "none";

    }
    function calculate() {
        let lengthStr = document.getElementById("laenge").value;
        let widthStr = document.getElementById("breite").value;
        let heightStr = document.getElementById("hoehe").value;
        let anforderungHeadlineDataSpanElement = document.getElementById("anforderungHeadlineDataSpan");
        let anforderungHeadlineString = "";

        if (!lengthStr || !widthStr || !heightStr) {
            clearResult();
            return;
        }

        let length = parseInt(lengthStr, 10);
        let width = parseInt(widthStr, 10);
        let height = parseInt(heightStr, 10);

        if (isNaN(length) || isNaN(width) || isNaN(height)) {
            clearResult();
            return;
        }

        if (length < width) {
            let swap = length;
            length = width;
            width = swap;
            document.getElementById("laenge").value = length;
            document.getElementById("breite").value = width;
        }

        anforderungHeadlineString = "LxBxH= " + length + " x " + width + " x " + height;

        let art = "perfektVerklebt";
        document.querySelectorAll("input[name=\"art\"]").forEach(function(radio) {
            if (radio.checked) {
                art = radio.value;
            }
        });

        let masz = "out";
        document.querySelectorAll("input[name=\"masz\"]").forEach(function(radio) {
            if (radio.checked) {
                masz = radio.value;
            }
        });

        anforderungHeadlineString += " " +  ((masz === "out") ? "AM" : ((masz === "in") ? "IM" : "???"));

        let materialStaerkeStr = "5";
        document.querySelectorAll("input[name=\"materialStaerke\"]").forEach(function(radio) {
            if (radio.checked) {
                materialStaerkeStr = radio.value;
            }
        });


        let materialStaerke = parseInt(materialStaerkeStr, 10);


        anforderungHeadlineString += "&nbsp;&nbsp;→∥← " +materialStaerke;

        let boden = "";
        let vorneHinten = "";
        let linksRechts = "";

        if (art === "perfektVerklebt") {
            anforderungHeadlineString += "&nbsp;&nbsp;perfekt Verklebt";
            if (masz === "out") {
                boden = (length + 30) + " x " + (width + 30) + " mm";
                vorneHinten = (length + 30) + " x " + (height - materialStaerke + 0.5) + " mm";
                linksRechts = (width - materialStaerke - materialStaerke) + " x " + (height - materialStaerke + 0.5) + " mm";
            } else if (masz === "in") {
                boden = (length + 30 + materialStaerke + materialStaerke) + " x " + (width + 30 + materialStaerke + materialStaerke) + " mm";
                vorneHinten = (length + 30 + materialStaerke + materialStaerke) + " x " + (height + 0.5) + " mm";
                linksRechts = (width) + " x " + (height + 0.5) + " mm";
            }
        } else if (art === "einfachVerklebt") {
            anforderungHeadlineString += "&nbsp;&nbsp;einfach Verklebt";
            if (masz === "out") {
                boden = (length + 1) + " x " + (width + 1) + " mm";
                vorneHinten = (length + 1) + " x " + (height - materialStaerke + 1) + " mm";
                linksRechts = (width - materialStaerke - materialStaerke + 1) + " x " + (height - materialStaerke + 1) + " mm";
            } else if (masz === "in") {
                boden = (length + 1 + materialStaerke + materialStaerke) + " x " + (width + 1 + materialStaerke + materialStaerke) + " mm";
                vorneHinten = (length + 1 + materialStaerke + materialStaerke) + " x " + (height + 1) + " mm";
                linksRechts = (width + 1) + " x " + (height + 1) + " mm";
            }
        } else if (art === "gehrungVerklebt") {
            anforderungHeadlineString += "&nbsp;&nbsp;Gehrung Verklebt";
            if (masz === "out") {
                boden = (length) + " x " + (width) + " mm";
                vorneHinten = (length) + " x " + (height) + " mm";
                linksRechts = (width) + " x " + (height) + " mm";
            } else if (masz === "in") {
                boden = (length + materialStaerke + materialStaerke) + " x " + (width + materialStaerke + materialStaerke) + " mm";
                vorneHinten = (length + materialStaerke + materialStaerke) + " x " + (height + materialStaerke) + " mm";
                linksRechts = (width + materialStaerke + materialStaerke) + " x " + (height + materialStaerke) + " mm";
            }
        }

        let resultBodenSpan = document.getElementById("bodenSpan");
        let resultVorneHintenSpan = document.getElementById("vorneHintenSpan");
        let resultLinksRechtsSpan = document.getElementById("linksRechtsSpan");
        let copyButton = document.getElementById("copyButton");

        resultBodenSpan.innerHTML = boden.replace(".", ",");
        resultVorneHintenSpan.innerHTML = vorneHinten.replace(".", ",");
        resultLinksRechtsSpan.innerHTML = linksRechts.replace(".", ",");
        anforderungHeadlineDataSpanElement.innerHTML = anforderungHeadlineString;
        copyButton.style.display = "block";
    }

    function onIntegerInput(inputElement) {
        inputElement.value = Math.abs(inputElement.value.replace(/[^0-9]*/g,''));
        if (inputElement.value === '0') {
            inputElement.value = "";
        }
    }

    function onIntegerKeyDown(event, inputElement) {
        if (event.key === '.' || event.key === ',' || event.key === 'e' || event.key === 'E' || event.key === '-' || event.key === '+') {
            event.preventDefault();
        }
    }

</script>
</body>
